theme(axis.text.x=element_text(angle=-90))
library(dplyr)
year <- pm25emissions %>%
filter(fips == "24510") %>%
select(year, type, Emissions) %>%
group_by(type, year) %>%
summarize(pm25 = sum(Emissions))
library(ggplot2)
png(file = "plot3.png")
par(mfrow = c(1,1))
ggplot(year, aes(x = year, y = pm25, fill = type)) +
geom_bar(stat="identity") +
facet_grid(.~type, scales = "free") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("Baltimore City : Total Emission from 1999 - 2008") +
theme(axis.text.x=element_text(angle=-90))
dev.off()
pm25emissions <- readRDS(file = "summarySCC_PM25.rds")
codeBook <- readRDS(file = "Source_Classification_Code.rds")
#Across the United States, how have emissions from
#coal combustion-related sources changed from 1999–2008?
#use whatever you want
library(dplyr)
#SCC number that are related to coal AND combustion are filtered
coalandCombustion <-    codeBook %>%
select(SCC, Short.Name) %>%
filter(grepl("Coal", Short.Name) & grepl("Comb", Short.Name)) %>%
select(SCC) %>%
sapply(as.character) %>%
as.character
year <-     pm25emissions %>%
filter(SCC %in% coalandCombustion) %>%
select(year, Emissions) %>%
group_by(year) %>%
summarize(pm25 = sum(Emissions))
png(file="plot4.png")
plot(year$pm25 ~ year$year, type="l", pch = 19,
ylab = "pm25 Emission", xlab = "Year")
title(main = "Total Emissions of pm25 in the U.S. from 1999 to 2008 \nfrom Coal Combustion-Related Sources")
dev.off()
plot(year$pm25 ~ year$year, type="l", pch = 19,
ylab = "pm25 Emission", xlab = "Year")
title(main = "U.S. : Total Emissions from 1999 to 2008 \nfrom Coal Combustion-Related Sources")
?qplot
qplot(pm25, data = year, color = "pink", ylab = "pm25 Emission", xlab = "Year",
main = "U.S. : Total Emissions from 1999 to 2008 \nfrom Coal Combustion-Related Sources")
ggplot(year, aes(x = year, y = pm25, fill = "blue")) +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources") +
theme(axis.text.x=element_text(angle=-90))
ggplot(year,  year, pm25) +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
ggplot(year,  aes(year, pm25)) +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
ggplot(year,  aes(year, pm25)) +
geom_bar(stat="identity", color = "blue") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
ggplot(year,  aes(year, pm25)) +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
ggplot(year, aes(x = year, y = pm25, fill = "blue")) +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
ggplot(year, aes(x = year, y = pm25, color = "blue")) +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
ggplot(year, aes(x = year, y = pm25)) +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
coalandCombustion <-    codeBook %>%
select(SCC, Short.Name) %>%
filter(grepl("Coal", Short.Name) & grepl("Comb", Short.Name)) %>%
select(SCC) %>%
sapply(as.character) %>%
as.character
year <-     pm25emissions %>%
filter(SCC %in% coalandCombustion) %>%
select(year, Emissions) %>%
group_by(year) %>%
summarize(pm25 = sum(Emissions))
library(ggplot2)
ggplot(year, aes(x = year, y = pm25), fill = "yellow") +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
ggplot(year, aes(x = year, y = pm25, fill = "yellow")) +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
ggplot(year, aes(x = year, y = pm25)) +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
year <-     pm25emissions %>%
filter(SCC %in% coalandCombustion) %>%
select(year, Emissions, SCC) %>%
group_by(year) %>%
summarize(pm25 = sum(Emissions))
ggplot(year, aes(x = year, y = pm25, fill = SCC)) +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
ggplot(year, aes(x = year, y = pm25)) +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
ggplot(year, aes(x = year, y = pm25)) +
geom_bar(stat="identity") +
scale_fill_manual(values="blue") +
labs(y = "Emission (in tons)", x = "Year")
ggplot(year, aes(x = year, y = pm25)) +
geom_bar(stat="identity") +
scale_fill_manual(color="blue")
ggplot(year, aes(x = year, y = pm25)) +
geom_bar(stat="identity") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
qplot(year, pm25, data = year, color = "pink", ylab = "pm25 Emission", xlab = "Year", geom ="histogram",
main = "U.S. : Total Emissions from 1999 to 2008 \nfrom Coal Combustion-Related Sources")
ggplot(year, aes(x = year, y = pm25)) +
geom_histogram() +
labs(y = "Emission (in tons)", x = "Year")
ggplot(year, aes(x = year, y = pm25)) +
#geom_bar(stat="identity") +
geom_histogram(stat = "identity") +
labs(y = "Emission (in tons)", x = "Year")
?geom_histogram
ggplot(year, aes(x = year, y = pm25)) +
#geom_bar(stat="identity") +
geom_histogram(stat = "identity", colour = "blue")
?geom_histogram
ggplot(year, aes(x = year, y = pm25)) +
#geom_bar(stat="identity") +
geom_histogram(stat = "identity", colour = "blue", fill = "darkblue")
ggplot(year, aes(x = year, y = pm25)) +
geom_histogram(stat = "identity", colour = "blue", fill = "darkblue") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
library(dplyr)
#SCC number that are related to coal AND combustion are filtered
coalandCombustion <-    codeBook %>%
select(SCC, Short.Name) %>%
filter(grepl("Coal", Short.Name) & grepl("Comb", Short.Name)) %>%
select(SCC) %>%
sapply(as.character) %>%
as.character
year <-     pm25emissions %>%
filter(SCC %in% coalandCombustion) %>%
select(year, Emissions) %>%
group_by(year) %>%
summarize(pm25 = sum(Emissions))
library(ggplot2)
png(file="plot4.png")
ggplot(year, aes(x = year, y = pm25)) +
geom_histogram(stat = "identity", colour = "blue", fill = "darkblue") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
dev.off()
#How have emissions from motor vehicle sources changed
#from 1999–2008 in Baltimore City?
#whatever you want
library(dplyr)
#SCC number that are related to vehicles
vehicle <-   codeBook %>%
select(SCC, Short.Name) %>%
filter(grepl("Veh", Short.Name)) %>%
select(SCC) %>%
sapply(as.character) %>%
as.character
#Filtering for Baltimore City and only type == ON-ROAD
#and from the codeBook related SCC to motor vehicles
#although after testing it has no effect on the plot
year <-     pm25emissions %>%
filter(fips == "24510", type == "ON-ROAD", SCC %in% vehicle) %>%
select(year, Emissions) %>%
group_by(year) %>%
summarize(pm25 = sum(Emissions))
png(file = "plot5.png")
par(mfrow = c(1,1))
plot(year$pm25 ~ year$year, type="l", pch = 19,
ylab = "pm25 Emission", xlab = "Year")
title(main = "Total Emissions of pm25 in Baltimore City \nfrom Motor Vehicle Sources", sub = "From 1999 to 2008")
dev.off()
library(dplyr)
year <- pm25emissions %>%
filter(fips == "24510") %>%
select(year, Emissions) %>%
group_by(year) %>%
summarize(emission = sum(Emissions))
#try to implement a trend line to the plot
png(filename = "plot2.png")
par(mfrow = c(1,1))
hist(year$emission ~ year$year, color = "pink",
ylab = "Emission (in tons)", xlab = "Year",
main = "Baltimore City : Total Emission from 1999 to 2008")
dev.off()
hist(year$emission, color = "pink",
ylab = "Emission (in tons)", xlab = "Year",
main = "Baltimore City : Total Emission from 1999 to 2008")
boxplot(year$emission ~ year$year,
ylab = "Emission (in tons)", xlab = "Year",
main = "Baltimore City : Total Emission from 1999 to 2008")
plot(year$year, year2$emission, type="l",
ylab = "Emission (in tons)", xlab = "Year",
main = "Baltimore City : Total Emission from 1999 to 2008")
plot(year$year, year2$emission, type="l",
ylab = "Emission (in tons)", xlab = "Year",
main = "Baltimore City : Total Emission from 1999 to 2008")
plot(year2$emission ~year$year, type="l",
ylab = "Emission (in tons)", xlab = "Year",
main = "Baltimore City : Total Emission from 1999 to 2008")
plot(year$emission ~year$year, type="l",
ylab = "Emission (in tons)", xlab = "Year",
main = "Baltimore City : Total Emission from 1999 to 2008")
library(dplyr)
#SCC number that are related to vehicles
vehicle <-   codeBook %>%
select(SCC, Short.Name) %>%
filter(grepl("Veh", Short.Name)) %>%
select(SCC) %>%
sapply(as.character) %>%
as.character
#Filtering for Baltimore City and only type == ON-ROAD
#and from the codeBook related SCC to motor vehicles
#although after testing it has no effect on the plot
year <-     pm25emissions %>%
filter(fips == "24510", type == "ON-ROAD", SCC %in% vehicle) %>%
select(year, Emissions) %>%
group_by(year) %>%
summarize(pm25 = sum(Emissions))
plot(year$pm25 ~ year$year, type="l", pch = 19,
ylab = "Emission (in tons)", xlab = "Year")
title(main = "Baltimore City : Total Emissions from 1999 to 2008 \nfrom Motor Vehicle Sources")
png(file = "plot5.png")
par(mfrow = c(1,1))
plot(year$pm25 ~ year$year, type="l", pch = 19,
ylab = "Emission (in tons)", xlab = "Year")
title(main = "Baltimore City : Total Emissions from 1999 to 2008 \nfrom Motor Vehicle Sources")
dev.off()
codeBook <- readRDS(file = "Source_Classification_Code.rds")
#How have emissions from motor vehicle sources changed
#from 1999–2008 in Baltimore City?
#whatever you want
library(dplyr)
#SCC number that are related to vehicles
vehicle <-   codeBook %>%
select(SCC, Short.Name) %>%
filter(grepl("Veh", Short.Name)) %>%
select(SCC) %>%
sapply(as.character) %>%
as.character
#Filtering for Baltimore City and only type == ON-ROAD
#and from the codeBook related SCC to motor vehicles
#although after testing it has no effect on the plot
year <-     pm25emissions %>%
filter(fips == "24510", type == "ON-ROAD", SCC %in% vehicle) %>%
select(year, Emissions) %>%
group_by(year) %>%
summarize(pm25 = sum(Emissions))
png(file = "plot5.png")
par(mfrow = c(1,1))
plot(year$pm25 ~ year$year, type="l", pch = 19,
ylab = "Emission (in tons)", xlab = "Year")
title(main = "Baltimore City : Total Emissions from 1999 to 2008 \nfrom Motor Vehicle Sources")
dev.off()
library(dplyr)
#SCC number that are related to vehicles
vehicle <-   codeBook %>%
select(SCC, Short.Name) %>%
filter(grepl("Veh", Short.Name)) %>%
select(SCC) %>%
sapply(as.character) %>%
as.character
#Filtering for Baltimore City and Los Angeles County and
#only type == ON-ROAD
#and from the codeBook related SCC to motor vehicles
#although after testing it has no effect on the plot
year <-     pm25emissions %>%
filter(fips %in% c("06037", "24510"), type %in% c("ON-ROAD", "OFF-ROAD"), SCC %in% vehicle) %>%
select(year, fips, Emissions) %>%
group_by(year, fips) %>%
summarize(pm25 = sum(Emissions))
for(i in 1:8){
if(year[i,2] == "06037"){
year[i,2] <- "Los Angeles County"
}else{
year[i,2] <- "Baltimore City"
}
}
names(year) <- c("Year", "Region", "pm25")
library(ggplot2)
png(file = "plot6.png")
ggplot(year, aes(x = Year, y = pm25, fill = Region)) +
geom_bar(stat="identity") +
facet_grid(.~Region, scales = "free") +
labs(x = "Year", < = "Emission (in tons)") +
ggtitle("Total Emission Trom 1999 To 2008 \nBetween Two Regions")
dev.off()
library(ggplot2)
png(file = "plot6.png")
ggplot(year, aes(x = Year, y = pm25, fill = Region)) +
geom_bar(stat="identity") +
facet_grid(.~Region, scales = "free") +
labs(x = "Year", y = "Emission (in tons)") +
ggtitle("Total Emission Trom 1999 To 2008 \nBetween Two Regions")
dev.off()
ggplot(year, aes(x = Year, y = pm25, fill = Region)) +
geom_bar(stat="identity") +
facet_grid(.~Region, scales = "free") +
labs(x = "Year", y = "Emission (in tons)") +
ggtitle("Total Emission Trom 1999 To 2008 \nBetween Two Regions") +
theme(axis.text.x=element_text(angle=-90))
library(ggplot2)
png(file = "plot6.png")
ggplot(year, aes(x = Year, y = pm25, fill = Region)) +
geom_bar(stat="identity") +
facet_grid(.~Region, scales = "free") +
labs(x = "Year", y = "Emission (in tons)") +
ggtitle("Total Emission Trom 1999 To 2008 \nBetween Two Regions") +
theme(axis.text.x=element_text(angle=-90))
dev.off()
library(ggplot2)
png(file = "plot6.png")
ggplot(year, aes(x = Year, y = pm25, fill = Region)) +
geom_bar(stat="identity") +
facet_grid(.~Region, scales = "free") +
labs(x = "Year", y = "Emission (in tons)") +
ggtitle("Total Emission Trom 1999 To 2008 \nComparison Of Two Regions") +
theme(axis.text.x=element_text(angle=-90))
dev.off()
library(ggplot2)
png(file = "plot6.png")
ggplot(year, aes(x = Year, y = pm25, fill = Region)) +
geom_bar(stat="identity") +
facet_grid(.~Region, scales = "free") +
labs(x = "Year", y = "Emission (in tons)") +
ggtitle("Total Emission Trom 1999 To 2008 \nComparison Of Two Regions") +
theme(axis.text.x=element_text(angle=-90))
dev.off()
library(dplyr)
pm25_year <- select(pm25emissions, year, Emissions)
year <- group_by(pm25_year, year)
year <- summarize(year, pm25 = sum(Emissions))
#units need to be adapted and perhaps plot can be made prettier
png(filename = "plot1.png")
par(mfrow = c(1,1))
plot(year$pm25 ~ year$year, type="l",
ylab = "Emission (in tons)", xlab = "Year",
main = "U.S. : Total Emission from 1999 to 2008")
dev.off()
rm("year", "pm25_year")
library(dplyr)
year <- pm25emissions %>%
filter(fips == "24510") %>%
select(year, Emissions) %>%
group_by(year) %>%
summarize(emission = sum(Emissions))
#try to implement a trend line to the plot
png(filename = "plot2.png")
par(mfrow = c(1,1))
plot(year$emission ~year$year, type="l",
ylab = "Emission (in tons)", xlab = "Year",
main = "Baltimore City : Total Emission from 1999 to 2008")
dev.off()
library(dplyr)
#filter for Baltimore City, select appropriate columns
#group them by year and type and sum the Emissions according to
#the four different years and types
year <- pm25emissions %>%
filter(fips == "24510") %>%
select(year, type, Emissions) %>%
group_by(type, year) %>%
summarize(pm25 = sum(Emissions))
library(ggplot2)
#plotting the emissions accordingly to years and types
#and saving file to plot3.png
png(file = "plot3.png")
ggplot(year, aes(x = year, y = pm25, fill = type)) +
geom_bar(stat="identity") +
facet_grid(.~type, scales = "free") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("Baltimore City : Total Emission from 1999 - 2008") +
theme(axis.text.x=element_text(angle=-90))
dev.off()
library(dplyr)
#SCC number that are related to vehicles
vehicle <-   codeBook %>%
select(SCC, Short.Name) %>%
filter(grepl("Veh", Short.Name)) %>%
select(SCC) %>%
sapply(as.character) %>%
as.character
#Filtering for Baltimore City and only type == ON-ROAD
#and from the codeBook related SCC to motor vehicles
#select approrpiate columns,
#group them by year and sum the Emissions according to
#the four different years
year <-     pm25emissions %>%
filter(fips == "24510", type == "ON-ROAD", SCC %in% vehicle) %>%
select(year, Emissions) %>%
group_by(year) %>%
summarize(pm25 = sum(Emissions))
png(file = "plot5.png")
#plotting the emissions accordingly to years
#and saving file to plot4.png
par(mfrow = c(1,1))
plot(year$pm25 ~ year$year, type="l", pch = 19,
ylab = "Emission (in tons)", xlab = "Year")
title(main = "Baltimore City : Total Emissions from 1999 to 2008 \nfrom Motor Vehicle Sources")
dev.off()
coalandCombustion <-    codeBook %>%
select(SCC, Short.Name) %>%
filter(grepl("Coal", Short.Name) & grepl("Comb", Short.Name)) %>%
select(SCC) %>%
sapply(as.character) %>%
as.character
#filter for SCC according to selected variables from the codebook,
#select appropriate columns
#group them by year and sum the Emissions according to
#the four different years
year <-     pm25emissions %>%
filter(SCC %in% coalandCombustion) %>%
select(year, Emissions) %>%
group_by(year) %>%
summarize(pm25 = sum(Emissions))
library(ggplot2)
#plotting the emissions accordingly to years
#and saving file to plot4.png
png(file="plot4.png")
ggplot(year, aes(x = year, y = pm25)) +
geom_histogram(stat = "identity", colour = "blue", fill = "darkblue") +
labs(y = "Emission (in tons)", x = "Year") +
ggtitle("U.S. : Total Emission from 1999 - 2008\nFrom Coal Combustion-Related Sources")
dev.off()
library(dplyr)
#SCC number that are related to vehicles
vehicle <-   codeBook %>%
select(SCC, Short.Name) %>%
filter(grepl("Veh", Short.Name)) %>%
select(SCC) %>%
sapply(as.character) %>%
as.character
#Filtering for Baltimore City and Los Angeles County and
#only type == ON-ROAD
#and from the codeBook related SCC to motor vehicles
#select approrpiate columns,
#group them by year and fips and sum the Emissions according to
#the four different years and fips
year <-     pm25emissions %>%
filter(fips %in% c("06037", "24510"), type %in% c("ON-ROAD", "OFF-ROAD"), SCC %in% vehicle) %>%
select(year, fips, Emissions) %>%
group_by(year, fips) %>%
summarize(pm25 = sum(Emissions))
#fips from integer to appropriate labels
for(i in 1:8){
if(year[i,2] == "06037"){
year[i,2] <- "Los Angeles County"
}else{
year[i,2] <- "Baltimore City"
}
}
#rename columns
names(year) <- c("Year", "Region", "pm25")
library(ggplot2)
#plotting of the emissions according to region (alias fips)
#and years and saving to plot6.R
png(file = "plot6.png")
ggplot(year, aes(x = Year, y = pm25, fill = Region)) +
geom_bar(stat="identity") +
facet_grid(.~Region, scales = "free") +
labs(x = "Year", y = "Emission (in tons)") +
ggtitle("Total Emission Trom 1999 To 2008 \nComparison Of Two Regions") +
theme(axis.text.x=element_text(angle=-90))
dev.off()
library(dplyr)
#select columns year and Emissions and group them by year
pm25_year <- select(pm25emissions, year, Emissions)
year <- group_by(pm25_year, year)
year <- summarize(year, pm25 = sum(Emissions))
#plotting of emissions to year and saving plot1.png
png(filename = "plot1.png")
par(mfrow = c(1,1))
plot(year$pm25 ~ year$year, type="l",
ylab = "PM25 Emission (in tons)", xlab = "Year",
main = "U.S. : Total Emission of pm25 from 1999 to 2008")
dev.off()
library(dplyr)
#filter for Baltimore City, select appropriate columns
#group them by year and sum the Emissions according to
#the four different years
year <- pm25emissions %>%
filter(fips == "24510") %>%
select(year, Emissions) %>%
group_by(year) %>%
summarize(emission = sum(Emissions))
#plotting of emissions to year and saving plot2.png
png(filename = "plot2.png")
par(mfrow = c(1,1))
plot(year$emission ~year$year, type="l",
ylab = "PM25 Emission (in tons)", xlab = "Year",
main = "Baltimore City : Total Emission of pm25 from 1999 to 2008")
dev.off()
