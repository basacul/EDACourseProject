{
    "contents" : "#for downloading the dataset if plot1.R was not run yet\n#\n#     fileUrl <- \"https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip\"\n#     download.file(fileUrl, destfile = \"data\", mode = \"wb\")\n#     unzip(\"data\")\n#     file.remove(\"data\")\n#     rm(\"fileUrl\")\n#\n\npm25emissions <- readRDS(file = \"summarySCC_PM25.rds\")\ncodeBook <- readRDS(file = \"Source_Classification_Code.rds\")\n\n#Compare emissions from motor vehicle sources in \n#Baltimore City with emissions from motor vehicle \n#sources in Los Angeles County, \n#California (fips == \"06037\"). \n#Which city has seen greater changes over time in motor \n#vehicle emissions?\n\nlibrary(dplyr)\n#SCC number that are related to vehicles \nvehicle <-   codeBook %>%\n      select(SCC, Short.Name) %>%\n      filter(grepl(\"Veh\", Short.Name)) %>%\n      select(SCC) %>%     \n      sapply(as.character) %>%\n      as.character\n\n#Filtering for Baltimore City and Los Angeles County and \n#only type == ON-ROAD\n#and from the codeBook related SCC to motor vehicles\n#select approrpiate columns, \n#group them by year and fips and sum the Emissions according to\n#the four different years and fips\nyear <-     pm25emissions %>% \n            filter(fips %in% c(\"06037\", \"24510\"), type %in% c(\"ON-ROAD\", \"OFF-ROAD\"), SCC %in% vehicle) %>% \n            select(year, fips, Emissions) %>%\n            group_by(year, fips) %>%\n            summarize(pm25 = sum(Emissions))\n\n#fips from integer to appropriate labels\nfor(i in 1:8){\n      if(year[i,2] == \"06037\"){\n            year[i,2] <- \"Los Angeles County\"\n      }else{\n            year[i,2] <- \"Baltimore City\"\n      }\n}\n\n#rename columns\nnames(year) <- c(\"Year\", \"Region\", \"pm25\")\n\n\nlibrary(ggplot2)\n#plotting of the emissions according to region (alias fips)\n#and years and saving to plot6.R\npng(file = \"plot6.png\")\nggplot(year, aes(x = Year, y = pm25, fill = Region)) +\ngeom_bar(stat=\"identity\") + \nfacet_grid(.~Region, scales = \"free\") +\nlabs(x = \"Year\", y = \"Emission (in tons)\") +\nggtitle(\"Total Emission Trom 1999 To 2008 \\nComparison Of Two Regions\") +\ntheme(axis.text.x=element_text(angle=-90))\ndev.off()",
    "created" : 1440115995282.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "388776355",
    "id" : "4660B181",
    "lastKnownWriteTime" : 1440201407,
    "path" : "~/EDACourseProject/plot6.R",
    "project_path" : "plot6.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "type" : "r_source"
}